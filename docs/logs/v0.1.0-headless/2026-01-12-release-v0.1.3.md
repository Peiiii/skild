# 2026-01-12 Release v0.1.3（CLI `list` 体验修复 + 发布认证更稳）

## 背景 / 问题

- `skild list` 默认只列 claude（因为 `-t` 有默认值），用户不加参数会误以为“没装 skill”
- 分组输出中，空平台的标题样式与非空平台不一致（加粗/不加粗）
- Codex 目录下存在 `.system` 等隐藏目录，作为 skill 列出来会干扰理解
- `pnpm cli ...` 在开发态会打印过多构建日志，影响可读性
- 发布认证希望尽量做到无交互（不依赖 OTP）

## 决策

- `skild list` 不指定 `-t` 时默认列出所有平台；指定 `-t` 时保持单平台输出
- `list` 不展示隐藏目录（以 `.` 开头）
- 分组标题统一加粗，空平台显示 `(none)` 提示
- 开发态 `pnpm cli` 只做必要的静默构建，减少噪音
- 发布脚本支持优先使用仓库内的 `.npmrc.publish.local`（已在 `.gitignore`），避免每次手动 `export`

## 变更内容

- core：新增跨平台聚合 + 隐藏目录过滤
- cli：`list` 默认全平台分组；输出风格一致；移除 `-t` 默认值
- release：`scripts/release/publish.mjs` 自动使用 `.npmrc.publish.local`（若存在）

## 验证（怎么确认符合预期）

```bash
pnpm release:check
pnpm -s cli list
pnpm -s cli list -t codex
```

验收点：

- `pnpm -s cli list`：能看到 `claude/codex/copilot` 分组，且空平台显示 `(none)`
- `pnpm -s cli list -t codex`：只显示 codex

## 发布 / 部署

```bash
pnpm release:dry
pnpm release
```

备注：

- 发布认证优先读取仓库根目录的 `.npmrc.publish.local`（不进 git）；详细见 `docs/release.md`

